!function(a){a.fn.rating=function(){function b(b,c){var d=a(b).find("[data-value="+c+"]");d.removeClass("glyphicon-star-empty").addClass("glyphicon-star"),d.prevAll("[data-value]").removeClass("glyphicon-star-empty").addClass("glyphicon-star"),d.nextAll("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty")}function c(b){var c=a(b);c.find("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty"),c.find(".rating-clear").hide();var d=c.find("input");d.val(d.data("empty-value")).trigger("change")}var d;for(d=this.length-1;d>=0;d--){var e,f,g=a(this[d]),h=g.data("max")||5,i=g.data("min")||0,j=g.data("clearable")||null,k="";for(f=i;h>=f;f++)k+=['<span class="glyphicon glyphicon-star-empty" data-value="',f,'"></span>'].join("");j&&(k+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',j,"</a>"].join(""));var l=g.clone().attr("type","hidden").data("max",h).data("min",i);e=['<div class="rating-input">',k,"</div>"].join(""),g.replaceWith(a(e).append(l))}a(".rating-input").on("mouseenter","[data-value]",function(){var c=a(this);b(c.closest(".rating-input"),c.data("value"))}).on("mouseleave","[data-value]",function(){var d=a(this),e=d.siblings("input"),f=e.val(),g=e.data("min"),h=e.data("max");f>=g&&h>=f?b(d.closest(".rating-input"),f):c(d.closest(".rating-input"))}).on("click","[data-value]",function(b){var c=a(this),d=c.data("value");return c.siblings("input").val(d).trigger("change"),c.siblings(".rating-clear").show(),b.preventDefault(),!1}).on("click",".rating-clear",function(b){return c(a(this).closest(".rating-input")),b.preventDefault(),!1}).each(function(){var d=a(this).find("input"),e=d.val(),f=d.data("min"),g=d.data("max");""!==e&&+e>=f&&g>=+e?(b(this,e),a(this).find(".rating-clear").show()):c(this)})},a(function(){a("input.rating[type=number]").length>0&&a("input.rating[type=number]").rating()})}(jQuery);
